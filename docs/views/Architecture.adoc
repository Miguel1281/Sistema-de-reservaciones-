== Vista lógica

La estructura estática del sistema de reservaciones se ha diseñado siguiendo estrictamente el patrón de Arquitectura en capas (Layered Architecture), complementado con el enfoque de Diseño basado en componentes. Esta decisión estructural no es arbitraria; responde a la necesidad de organizar la complejidad del negocio hotelero separando claramente las responsabilidades técnicas de las funcionales. Como se observa en el diagrama de paquetes, el sistema se descompone en cuatro estratos horizontales —Presentación, Aplicación, Dominio e Infraestructura—, donde cada capa posee una dependencia estricta únicamente hacia las capas inferiores. A continuación, se detalla cómo esta organización satisface los atributos de calidad (QAS) críticos para el negocio.

=== Capa de presentación: usabilidad y restricciones de hardware
En el nivel superior se encuentra la Capa de presentación, cuya única responsabilidad es la interacción con los usuarios. El diagrama distingue explícitamente dos componentes clave: la "Aplicación Web" para huéspedes y la "SPA (Single Page Application)" para el personal de recepción. Esta separación es fundamental para satisfacer el atributo de calidad de Usabilidad, permitiendo interfaces especializadas: una enfocada en la conversión de ventas para el cliente y otra optimizada para la eficiencia operativa del empleado. Además, la decisión de implementar el módulo de recepción como una SPA ligera responde directamente a la restricción de Hardware modesto, garantizando que el sistema pueda operar con fluidez en los equipos con recursos limitados disponibles en el mostrador del hotel, sin sacrificar la experiencia de usuario.

=== Capa de aplicación: seguridad y desacoplamiento
Inmediatamente debajo reside la Capa de aplicación. En el diagrama, esta capa actúa como una frontera de orquestación que no contiene reglas de negocio complejas, sino que coordina los flujos de trabajo (como los "Servicios de Aplicación"). Su función arquitectónica principal es satisfacer el atributo de Seguridad, específicamente el control de acceso. Al obligar a que todas las peticiones de la interfaz de usuario pasen por estos servicios coordinadores, el sistema asegura un punto centralizado para verificar la autorización antes de que cualquier operación llegue al dominio. Esto previene accesos no autorizados a datos sensibles de otros huéspedes y desacopla la lógica de presentación de la lógica vital del negocio.

=== Capa de dominio: modificabilidad y núcleo del negocio
El corazón del diagrama es la Capa de dominio. Aquí se encapsulan los subsistemas funcionales ("SistemaReservas", "SistemaInventario", etc.) y las entidades del negocio, manteniéndolas completamente aisladas de detalles técnicos como bases de datos o frameworks web. Esta pureza estructural es la clave para satisfacer el atributo de Modificabilidad. Por ejemplo, las reglas de cancelación o las políticas de precios, que son propensas a cambios frecuentes por estrategia comercial, residen aquí. Al estar aisladas, pueden modificarse sin riesgo de romper la interfaz de usuario o el código de base de datos. Además, el diagrama muestra el uso de interfaces (abstracciones) para repositorios y servicios externos, aplicando el principio de Inversión de Dependencias para que el dominio defina "qué" necesita sin importar "cómo" se implementa.

=== Capa de infraestructura: flexibilidad tecnológica y seguridad de datos
Finalmente, la Capa de infraestructura soporta al sistema implementando las interfaces definidas por el dominio. En el diagrama, esto se visualiza con componentes concretos como el "Repositorio RDBMS" y el "Adaptador de Pagos". Esta estructura favorece nuevamente la Modificabilidad y la Portabilidad: si en el futuro se decide cambiar de proveedor de pagos (por ejemplo, de Stripe a PayPal) o de motor de base de datos, solo será necesario crear una nueva implementación en esta capa sin tocar una sola línea del código de negocio. Asimismo, esta capa es responsable de proteger la integridad de los datos, previniendo vulnerabilidades técnicas como la inyección SQL, satisfaciendo así los requisitos de seguridad técnica.

En conclusión, la estructura de paquetes propuesta refleja una jerarquía donde la estabilidad aumenta conforme se desciende de nivel. Las capas superiores (UI) pueden cambiar frecuentemente para adaptarse a tendencias visuales, mientras que el dominio permanece estable protegiendo las reglas de oro del negocio. Este diseño garantiza un sistema mantenible, seguro y capaz de evolucionar junto con las necesidades estratégicas de la cadena hotelera.

image::/images/Diagramas de paquetes.png[Diagrama de paquetes, align="center"]


=== Modelo de conceptos de negocio


image::/images/Modelo de conceptos de negocio.jpg[Modelo de conceptos de negocio de sistema hotelero, width=600, align=center]
