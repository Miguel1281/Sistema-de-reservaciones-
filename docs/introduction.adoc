== Contexto y alcance del sistema

=== Visión del Sistema

El proyecto busca crear una solucion integral y centralizada de gestion hotelera para una cadena con mas de 5000 hoteles. Diseñado para los clientes y el personal operativo y administrativo, quienes necesitan de una plataforma confiable para gestionar el inventario, tarifas y reservaciones. El sistema permitirá a los clientes realizar reservaciones en linea y de forma presencial, mientras que el personal podra gestionar las operaciones diarias de manera eficiente.

A diferencia de las soluciones actuales, que son propensas a errores, nuestra plataforma ofrecerá un unico punto de acceso a todo el inventario, garantizando la consistencia, reduciendo errores y mejorando la eficiencia, con el oobjetivo de transformar la gestión de reservaciones de un costo operativo a una ventaja competitiva.

=== Alcance


De manera general, el alcance del sistema se centra en desarrollar las funcionalidades críticas para la operación hotelera. La primera versión incluirá el flujo completo de reservación, abarcando desde la consulta de disponibilidad hasta la confirmación y el pago. También cubrirá las operaciones esenciales de recepción, como el check-in y el check-out de los huéspedes.

El sistema permitirá la gestión de estancias, incluyendo cambios de habitación y el registro de consumos adicionales como desayunos. Adicionalmente, ofrecerá un back-office básico para la administración de hoteles, habitaciones y tarifas, junto con la capacidad de gestionar precios diarios y las políticas de overbooking.

Quedan fuera del alcance inicial, para ser consideradas en futuras versiones, funcionalidades como las búsquedas avanzadas y recomendaciones, así como la integración con agencias de viaje en línea y otros sistemas externos. También se posponen funciones adicionales como la facturación o la programación de tareas del personal.

=== Audiencia del documento

•	Huésped (web/app): Es el cliente final que consulta disponibilidad, reserva, paga y gestiona sus estancias.
•	Personal de Recepción: El equipo del hotel que utiliza el sistema para operaciones diarias como check-in, check-out, cambios de habitación y registro de consumos.
•	Administración (cadena/hotel): Los responsables de gestionar el catálogo de hoteles, habitaciones, precios y las políticas de negocio como el overbooking.
•	Auditores: Personal encargado de asegurar la trazabilidad e integridad de todas las operaciones financieras y de reserva que se realizan en el sistema.

Preocupaciones (Concerns):

•	Gestión de inventario bajo concurrencia: El sistema debe ser capaz de evitar dobles reservas, incluso cuando múltiples usuarios intentan reservar la misma habitación simultáneamente.
•	Pagos y confirmación: Es crucial asegurar que cada pago se procese una sola vez para evitar dobles cobros, incluso si el cliente reintenta la operación por error.
•	Manejo de picos de demanda: El sistema debe estar preparado para gestionar aumentos inesperados de tráfico de manera controlada, evitando caídas y degradando el servicio de forma predecible si es necesario.
•	Coherencia de precios: Se debe garantizar que el precio mostrado al inicio de la reserva sea exactamente el mismo que se cobra al finalizar la transacción.
•	Privacidad de la información: Proteger los datos personales y de pago de los clientes es una prioridad, cumpliendo con todas las regulaciones locales de privacidad.
•	Facilidad de operación: La interfaz debe ser intuitiva y fácil de usar para el personal de recepción, incluso para novatos con mínima capacitación, y debe funcionar en equipos con recursos modestos.
•	Gerente: El responsable de la gestión y supervisión de un hotel específico. Utiliza el sistema para gestionar el inventario de habitaciones (altas, bajas, bloqueos) y administrar las cuentas del personal de recepción.



=== Glosario

==== Estrategia y Negocio (Contexto del Problema)

Gestión Reactiva::
Modelo de operación actual (AS-IS) donde la administración responde caóticamente a los incidentes debido a la falta de información centralizada. El sistema busca erradicar esto para permitir una toma de decisiones estratégica.

Silos de Información::
Condición problemática actual donde cada hotel opera su propia base de datos aislada, impidiendo una visión global de la cadena y generando inconsistencias.

Precios Dinámicos::
Estrategia competitiva implementada en el sistema para ajustar tarifas en tiempo real según la oferta y la demanda, transformando la gestión de un costo a una ventaja de ingresos.

Revenue Management (Gestión de Ingresos)::
Práctica administrativa soportada por el sistema para gestionar precios y disponibilidad de forma inteligente con el fin de maximizar la rentabilidad.

Overbooking Controlado::
Política de negocio que permite vender más capacidad de la real bajo reglas estrictas para optimizar la ocupación, diferenciándose de las "sobreventas accidentales" por error.

Punto Único de Acceso::
Solución arquitectónica para centralizar la gestión de todo el inventario de la cadena, permitiendo cambios masivos de tarifas o políticas desde un solo lugar.

==== Dominio Hotelero y Operaciones

Walk-in::
Cliente que se presenta físicamente en el mostrador sin reservación previa solicitando alojamiento inmediato (Reservación de mostrador).

Bloqueo Suave (Soft Hold)::
Mecanismo temporal de retención de inventario durante el proceso de reserva. El sistema aparta la habitación brevemente antes del pago para evitar que otro usuario la gane mientras se completa la transacción.

Inventario Físico vs. Lógico::
Distinción entre las habitaciones reales del hotel (físico) y la disponibilidad comercial (lógico). Una habitación "Sucia" existe físicamente pero no está disponible lógicamente para venta inmediata.

Estados Físicos de Habitación::
Clasificación operativa que incluye estados como LIMPIA (lista para asignar), SUCIA (requiere limpieza) y OCUPADA (asignada a un huésped).

Folio (Cuenta de Estancia)::
Registro financiero asociado a una estancia donde se acumulan los cargos por alojamiento y consumos adicionales para su liquidación final.

Política de Saldo Cero::
Regla de negocio estricta que impide realizar el Check-out si existe algún monto pendiente de pago en el folio del huésped.

Coherencia de Precios::
Regla que garantiza que el precio mostrado al inicio de la búsqueda sea idéntico al cobrado al final, evitando discrepancias ocultas.

==== Arquitectura y Diseño de Software

Arquitectura en Capas (Layered Architecture)::
Patrón estructural que organiza el sistema en estratos (Presentación, Aplicación, Dominio, Infraestructura) con dependencias estrictas hacia abajo.

Single Page Application (SPA)::
Tecnología web usada en el módulo de recepción para ofrecer una experiencia fluida y rápida, optimizada para equipos con hardware modesto.

Inversión de Dependencias::
Principio aplicado en el Dominio donde se definen interfaces (abstracciones) para repositorios y servicios, desacoplando la lógica de negocio de la tecnología concreta.

Idempotencia::
Propiedad técnica crítica en los pagos. Garantiza que si una operación de cobro se envía múltiples veces (por error de red o reintento), el sistema solo la procese una vez efectiva.

Concurrencia de Inventario::
Capacidad del sistema para manejar múltiples solicitudes simultáneas sobre la misma habitación sin generar dobles reservas (race conditions).

Degradación Predecible::
Capacidad del sistema para reducir su funcionalidad de forma controlada ante picos de demanda excesivos, evitando una caída total del servicio.

==== Seguridad, Infraestructura y Datos

RBAC (Role-Based Access Control)::
Modelo de seguridad donde los permisos se otorgan según el rol del usuario (Recepcionista, Gerente) y no su identidad individual.

Defensa en Profundidad::
Estrategia de seguridad que aplica controles en múltiples niveles (red, aplicación, datos) en lugar de confiar solo en el perímetro.

ACID (Atomicidad, Consistencia, Aislamiento, Durabilidad)::
Propiedades de transacción exigidas para procesos críticos como HacerReserva para asegurar la integridad del inventario.

Correlation ID (Trace ID)::
Identificador único que acompaña a cada petición HTTP a través de todos los microservicios, permitiendo rastrear la traza completa de una operación en los logs.

JWT (JSON Web Token)::
Mecanismo de tokens seguros para propagar la identidad del usuario desde el frontend hacia los servicios de backend.

Baja Lógica (Soft Delete)::
Método de eliminación donde los registros (como tarifas antiguas) no se borran físicamente, sino que se marcan como "inactivos" para mantener la historia.

Log Aggregator::
Componente centralizado que recolecta logs de todos los servicios, evitando el uso de archivos locales efímeros y facilitando la auditoría.
